### 任务:
1. <s>添加实际拜访人姓名,仅管理员权限,非管理员选择无效(进度:完成,设想要不要弄一个提示框)</s>
2. <s>添加地点筛选功能,弄成CityFilter组件(进度:完成)</s>
3. <s>在合同列表中增加列表,展示签订人员,开始时间,结束时间.还有增加和修改操作,在该操作中需要展示该model中的所有内容.
    - 完成添加列表,增加功能,
    - 待完成:修改,展示详细信息(打算展示的时候图标为信封打开效果)</s>
    - 出现的问题:修改的时候出现:上传合同信息出错了: 405，
        返回结果: [object Object],PATCH http://127.0.0.1:8000/api/public/customers/2/contracts/ 405 (Method Not Allowed)
        原因：url地址错误：/api/public/customers/" + this.customerProp.id  + "/contracts/" + this.contract.id + "/"
    - 展示详细信息的时候页面为空,ncaught SyntaxError: Unexpected end of input ···
        原因：写的v-if="select=='detailsContract'"写成：v-if="select=='ditailsContract'"
4. <s>进阶:添加时候原框左移,添加新框(完成)</s>
5. <s>完善搜索界面,输入搜索内容后,展示所有用户(分权限吧) 完成11.27</s>
6. <s>更新的时候不是覆盖而是重新创建了一条(需改) 完成11.27</s>
7. <s>拜访记录里面的删除功能 完成12.01</s>
8. <s>添加合同的bug 未找到</s>
9. <s>操作记录:展示用户登录后每次操作前后的内容. 完成 12.5</s>
    穿插在各个模型修改中 除更新穿插其中,其他信号实现,使用全局获取当前账号(即当前操作者)
  ```python
      to_json:[
        "name",  # 简短名称
        "identifier",   # 微信号
        "description",   # 详细资料
        "address",   # 公司地址
        "responsibles",   # 此客户负责人员
        "contacts",   # 联系方式
        "state",   # 状态
        "score"  #分数
      ]
  ```

10. <s>milkway:修改PC端主页动效效果,添加关于我们的页面 完成12.12</s>

11. 三个项目维护(手动标识置顶):

    1. shortman(利用dpcrm中学到的进行改进)
    2. dpcrm
    3. ardisk homepage

    网页大小：min：1280px
    手机端一般为iphone8或iphone9大小

    优先级：milkway>dpcrm>shortman


shortman修改进度:
1. 对于csrf错误问题的修复
2. views.py中设置了用户的权限职能;
3. 需要更改model中的user,添加role字段(已添,但是感觉有点多余,因为有设置is_superuser字段);
    其中要怎么设置流加载(或者是说分批加载数据)-->分页功能的实现（完成）

4. 分页将一个图表作为一个整体而不是将图表中的数据作为要分页的内容。（完成）
5. list中的分页功能完善。（排序似乎没有必要，其余完成）
6. 修改密码页面，功能(完成)
7. 注册账号页面，功能（注册人要填写字段：username，password）
8. 管理账号页面，功能（管理员要管理账号的管理权限role/is_superuser、账号状态is_active,is_staff)

tips:想要在登陆界面添加时间变化,登陆界面需要美化
网页获取最新数据（需要一直更新数据且要展示，不适合用站点缓存）
在时间选择的单选项中，当没有最近一小时的数据的时候，变灰，然后默认已选变为最近一天


dpcrm:

修改global,重新定义获取当前执行者信息(已完成)
1. 合并官网的vue页面,产生静态页面,而不是使用vue生成的动态页面(对搜索引擎不友好),使用www.diepu.com进入的是官网,然后使用crm的进入crm页面.(已完成)
2. 由crm提供的dist信息的编辑(程序员进入看到的页面),程序员只能看到已签单的用户,点击只能编辑dist信息.(修改填写后的发送给后端，以及输入框需要大点)(已完成)
3. 客户将由crm提供的软件下载,而不是去lafdict.cn进行下载.
4. 提取exe信息,编辑dist到exe中.

5. 在销售管理的几个页面里面，客户方块不显示维护分，而是至今为止最后一次回访的时间（天数)。(已完成)
6. 增加一个按照创建时间排序的功能。并且默认排序也是客户创建时间。（已完成）
7. 增加一个试用状态。处于试用状态的客户不会计算维护分。(已完成)
8. 改造一下 CRM 首页，删除团队成员版块，换成最近的回访纪录。但是需要注意，这个客户必须是自己可见的。(已完成)
9. 工程师角色可以看到试用状态的客户。(已完成)
10. 工程师角色在计算维护分的时候，不计算试用状态的维护分。(已完成)
11. 试用的客户仍然可以修改维护分。只是工程师角色计算总维护分的时候不参与计算。(已完成)
12. 销售管理的“已签管理”，包含试用的客户。(已完成)
13. 售后管理的“我的客户”、“已签用户”也包含试用的客户。(已完成)
